<!DOCTYPE html>
<html>
  <head>
    <title><%= yield :title %></title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <header>
      <%= render 'partials/navigation' %>
    </header>
    <%= render 'partials/flash' %>
    <main class="container">
      <%= render 'partials/sorting_nav' if @topics.present?%>
      
      <%= content_tag :h2, yield(:heading), class: 'text-capitalize', id: heading_id if content_for?(:heading)%>
      
      <% if @topics.present? %>
        <div class="custom-pagination" id="topPagination">
          <%= paginate @topics_scope.page(params[:page]), window: 2%>
        </div>
      <% end %>

      <%= yield %>

      <% if @topics.present? %>
        <p class='text-center'>
          <%= page_entries_info @topics_scope.page(params[:page]) %>
        </p>
        <div class="custom-pagination">
          <%= paginate @topics_scope.page(params[:page]), window: 2 %>  
        </div>
      <% end %>
    </main>
  </body>
</html>
